<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공지사항 수정</title>
    <th:block th:replace="/fragments/head"></th:block>
    <link rel="stylesheet" href="/static/css/notice.css">
    <link rel="stylesheet" href="/static/css/notice-modify.css">
    

    <script src="/static/js/service/HuskyEZCreator.js" charset="utf-8"></script>
</head>
<body>
    <th:block th:replace="/fragments/header"></th:block>
    <main>
        <div class="notice-header">
            <h1 class="menu-title">글 수정</h1>
            
        </div>
        <article>
            <form enctype="multipart/form-data">
                <table class="notice-list">
                    <tr class="notice-row">
                        <th>제목</th>
                        <td><input type="text" class="notice-title"></td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <input type="file" class="notice-file">
                        </td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <textarea name="ir1" id="ir1" style="width: 100%; height: 500px;"></textarea>
                        </td>
                    </tr>
                    <tr class="notice-row">
                        <td colspan="2">
                            <div class="notice-submit">
                                <button type="button" class="notice-button submit">수정하기</button>
                                <button type="button" class="notice-button cancel">취소하기</button>
                            </div>
                        </td>
                    </tr>
                </table>
            </form>
        </article>
        
    </main>
    <script type="text/javascript">
        let oEditors = [];
        nhn.husky.EZCreator.createInIFrame({
        oAppRef: oEditors,
        elPlaceHolder: "ir1",
        sSkinURI: "/static/SmartEditor2Skin.html",
        fCreator: "createSEditor2",
        fOnAppLoad: () => {
            oEditors.getById["ir1"].exec("PASTE_HTML", [`<p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255); font-size: 18pt;">스프링 부트 게시글 테스트입니다.</span></p><p><span style="color: rgb(0, 158, 37); font-size: 14pt;">네이버</span> <b>스마트 에디터</b> 사용하기.</p><p><br></p>`]);
        }
        });
        
        const submitButton = document.querySelector(".submit");

        submitButton.onclick = () => {
            /*
                editor의 내용을 textarea로 옮겨주는 역할
            */
            //oEditors.getById["ir1"].exec("PASTE_HTML", [`<p><span style="background-color: rgb(255, 0, 0); color: rgb(255, 255, 255); font-size: 18pt;">스프링 부트 게시글 테스트입니다.</span></p><p><span style="color: rgb(0, 158, 37); font-size: 14pt;">네이버</span> <b>스마트 에디터</b> 사용하기.</p><p><br></p>`]);
            oEditors.getById["ir1"].exec("UPDATE_CONTENTS_FIELD", []);
            const textareaValue = document.querySelector("#ir1").value;
            alert(textareaValue);
        }

    </script>
</body>
</html>